!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/core"),require("@angular/forms")):"function"==typeof define&&define.amd?define("nthm",["exports","@angular/common","@angular/core","@angular/forms"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).nthm={},t.ng.common,t.ng.core,t.ng.forms)}(this,(function(t,e,n,i){"use strict";var o=function(){function t(t,e){this.templateRef=t,this.elRef=e}return Object.defineProperty(t.prototype,"element",{get:function(){return this.elRef},enumerable:!1,configurable:!0}),t}();o.decorators=[{type:n.Directive,args:[{selector:"ng-template[ngToggleLabel]"}]}],o.ctorParameters=function(){return[{type:n.TemplateRef},{type:n.ElementRef}]},o.propDecorators={forLabel:[{type:n.Input}]};var a=function(){function t(t,e){this.ngZone=t,this.element=e,this.onText="On",this.offText="Off",this.onColor="primary",this.offColor="secondary",this.size="",this.disabled=!1,this.valueChange=new n.EventEmitter,this.btnClass=!0,this.tabindex=0,this.role="checkbox",this.width=0,this.handleWidth=0,this._animate=!0,this._innerAnimate=!0,this._innerState=!1,this._innerWidth="auto",this._disableInitialAnimation=!1,this._dragStart=null,this._dragEnd=null,this._initialized=!1,this._hidden=!1}return Object.defineProperty(t.prototype,"outerAnimate",{set:function(t){this._disableInitialAnimation=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._innerState},set:function(t){this.setState(t)},enumerable:!1,configurable:!0}),t.prototype.ngAfterViewInit=function(){var t=this;this.calculateWidth(),this._initialized=!0,this.ngZone.run((function(){return setTimeout((function(){return t._disableInitialAnimation=!1}))}))},t.prototype.ngAfterViewChecked=function(){var t=null===this.element.nativeElement.offsetParent;this._initialized&&0!==this.width||this._hidden===t||(this._initialized=!1,this.calculateWidth(),this._initialized=!0),this._hidden=t},t.prototype.ngAfterContentInit=function(){var t=this.labelElements.find((function(t){return"on"===t.forLabel.toLowerCase()})),e=this.labelElements.find((function(t){return"off"===t.forLabel.toLowerCase()}));t&&(this.onLabel=t),e&&(this.offLabel=e),(t||e)&&this.calculateWidth(!0)},t.prototype.ngOnChanges=function(t){("onText"in t||"offText"in t||"size"in t)&&(this._initialized=!1,this.calculateWidth(this._initialized),this._initialized=!0)},Object.defineProperty(t.prototype,"largeButton",{get:function(){return"lg"===this.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"smallButton",{get:function(){return"sm"===this.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"handleDark",{get:function(){return this.value&&"light"===this.onColor||!this.value&&"light"===this.offColor},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indeterminate",{get:function(){return null===this._innerState||void 0===this._innerState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toggledOn",{get:function(){return!0===this.innerState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toggledOff",{get:function(){return!1===this.innerState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerState",{get:function(){return this._innerState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ariaCheckedValue",{get:function(){return this.indeterminate?"mixed":this.value?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"animate",{get:function(){return this._animate&&(!this._disableInitialAnimation||this._initialized&&!this._disableInitialAnimation)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"marginLeft",{get:function(){var t=0;return this._initialized&&(this.indeterminate||null===this._innerState||void 0===this._innerState?t=-this.width/2:this._dragEnd?t=this._dragEnd:this._innerState||(t=-this.width)),t+"px"},enumerable:!1,configurable:!0}),t.prototype.handleResize=function(){this._initialized=!1,this.calculateWidth(!0),this._initialized=!0},t.prototype.handleClick=function(){this.disabled||this._dragEnd?this._dragEnd&&(this._dragEnd=null):this.setState(!this._innerState)},t.prototype.onTouchStart=function(t){this.onDragStart(t)},t.prototype.onMouseDown=function(t){this.onDragStart(t)},t.prototype.onTouchMove=function(t){this.onDragMove(t)},t.prototype.onMouseMove=function(t){this.onDragMove(t)},t.prototype.onTouchEnd=function(t){this.onDragEnd(t,!0)},t.prototype.onMouseUp=function(t){this.onDragEnd(t)},t.prototype.onMouseLeave=function(t){this.onDragEnd(t,!0)},t.prototype.onKeyDown=function(t){if(t.key&&!this.disabled)switch(t.key){case"Left":case"ArrowLeft":t.preventDefault(),t.stopImmediatePropagation(),this.setState(!1);break;case"Right":case"ArrowRight":t.preventDefault(),t.stopImmediatePropagation(),this.setState(!0);break;case"Spacebar":case" ":t.preventDefault(),t.stopImmediatePropagation(),this.setState(!this.value)}},t.prototype.onDragStart=function(t){if(t.target===this.handle$){if(this._dragStart||this.disabled)return;t.preventDefault(),t.stopPropagation(),this._dragStart=(t.pageX||t.touches[0].pageX)-parseInt(this.container$.style.marginLeft,10),this._animate&&(this._animate=!this._animate)}},t.prototype.onDragMove=function(t){if(this._dragStart){t.preventDefault();var e=(t.pageX||t.touches[0].pageX)-this._dragStart;if(e<-Number(this.width)||e>0)return;this._dragEnd=e}},t.prototype.onDragEnd=function(t,e){void 0===e&&(e=!1),this._dragStart&&(t.preventDefault(),t.stopPropagation(),this._dragEnd&&this.setState(this._dragEnd>-Number(this.width)/2),this._dragStart=null,e&&(this._dragEnd=null),this._innerAnimate&&!this._animate&&(this._animate=!0))},t.prototype.calculateWidth=function(t){var e=this;void 0===t&&(t=!1),t&&this._innerAnimate&&(this._animate=!1);var n=this._initialized;n||(this.container$.style.width="auto",this.element$.style.width="auto"),this.on$.style.width="auto",this.off$.style.width="auto",setTimeout((function(){var i=e._innerWidth;"auto"===e._innerWidth&&(i=Math.max(e.on$.offsetWidth,e.off$.offsetWidth)),e.handleWidth=e.handle$.offsetWidth,e.width=Number(i),n||(e.container$.style.width=2*e.width+e.handleWidth+"px",e.element$.style.width=e.width+e.handleWidth+"px"),e.ngZone.run((function(){e.on$.style.width=e.width+"px",e.off$.style.width=e.width+"px",setTimeout((function(){t&&e._innerAnimate&&(e._animate=!0)}))}))}))},t.prototype.setState=function(t){t!==this._innerState&&(this._innerState=t,this.valueChange.emit(this._innerState))},Object.defineProperty(t.prototype,"element$",{get:function(){return this.element.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"on$",{get:function(){return this.onElement.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"off$",{get:function(){return this.offElement.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"handle$",{get:function(){return this.handleElement.nativeElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"container$",{get:function(){return this.containerElement.nativeElement},enumerable:!1,configurable:!0}),t}();a.decorators=[{type:n.Component,args:[{selector:"ng-toggle",template:'\n    <span #container class="ng-toggle-container" [style.marginLeft]="marginLeft">\n      <span #on class="ng-toggle-on btn btn-{{onColor}}" [class.btn-lg]="largeButton"\n            [class.btn-sm]="smallButton" [class.disabled]="disabled">\n          <ng-template [ngTemplateOutlet]="onLabel?.templateRef"></ng-template>\n          <ng-container *ngIf="!onLabel">{{onText}}</ng-container>\n      </span>\n      <span #handle class="ng-toggle-handle btn" [class.btn-lg]="largeButton"\n            [class.btn-sm]="smallButton" [class.disabled]="disabled"\n            [class.btn-light]="!handleDark" [class.btn-dark]="handleDark">&nbsp;</span>\n      <span #off class="ng-toggle-off btn btn-{{offColor}}" [class.btn-lg]="largeButton"\n            [class.btn-sm]="smallButton" [class.disabled]="disabled">\n        <ng-template [ngTemplateOutlet]="offLabel?.templateRef"></ng-template>\n        <ng-container *ngIf="!offLabel">{{offText}}</ng-container>\n      </span>\n    </span>\n    <ng-content></ng-content>\n    ',preserveWhitespaces:!1,encapsulation:n.ViewEncapsulation.None,styles:["ng-toggle{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;box-sizing:content-box;cursor:pointer;direction:ltr;display:inline-block;overflow:hidden;padding:0!important;position:relative;text-align:left;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;user-select:none;vertical-align:middle;z-index:0}ng-toggle.disabled,ng-toggle.disabled .btn{cursor:default}ng-toggle input{height:1px;position:absolute;visibility:hidden;width:1px;z-index:-1}ng-toggle .ng-toggle-container,ng-toggle .ng-toggle-handle,ng-toggle .ng-toggle-off,ng-toggle .ng-toggle-on{display:-ms-flexbox!important;display:flex!important}ng-toggle .ng-toggle-container{-ms-flex-align:stretch!important;-webkit-transform:translateZ(0);align-items:stretch!important;border-radius:0;top:0;transform:translateZ(0)}ng-toggle.ng-toggle-animate .ng-toggle-container{transition:margin-left .5s}ng-toggle .ng-toggle-off,ng-toggle .ng-toggle-on{-ms-flex-align:center!important;align-items:center!important;border-radius:0;text-align:center;z-index:1}ng-toggle .ng-toggle-handle,ng-toggle .ng-toggle-off,ng-toggle .ng-toggle-on{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;box-sizing:border-box;cursor:pointer;user-select:none}ng-toggle .ng-toggle-handle{-ms-flex-item-align:stretch!important;-ms-grid-row-align:stretch!important;align-self:stretch!important;margin-bottom:-1px;margin-top:-1px;padding-left:0;padding-right:0;text-align:center;width:1em;z-index:100}"]}]}],a.ctorParameters=function(){return[{type:n.NgZone},{type:n.ElementRef}]},a.propDecorators={onText:[{type:n.Input}],offText:[{type:n.Input}],onColor:[{type:n.Input}],offColor:[{type:n.Input}],size:[{type:n.Input}],disabled:[{type:n.Input},{type:n.HostBinding,args:["class.disabled"]},{type:n.HostBinding,args:["class.ng-toggle-disabled"]}],valueChange:[{type:n.Output}],btnClass:[{type:n.HostBinding,args:["class.btn"]}],tabindex:[{type:n.Input,args:["tabindex"]},{type:n.HostBinding,args:["attr.tabindex"]}],role:[{type:n.Input,args:["role"]},{type:n.HostBinding,args:["attr.role"]}],containerElement:[{type:n.ViewChild,args:["container",{static:!0}]}],onElement:[{type:n.ViewChild,args:["on",{static:!0}]}],offElement:[{type:n.ViewChild,args:["off",{static:!0}]}],handleElement:[{type:n.ViewChild,args:["handle",{static:!0}]}],labelElements:[{type:n.ContentChildren,args:[o]}],outerAnimate:[{type:n.Input,args:["disableInitialAnimation"]}],value:[{type:n.Input}],largeButton:[{type:n.HostBinding,args:["class.btn-lg"]},{type:n.HostBinding,args:["class.ng-toggle-lg"]}],smallButton:[{type:n.HostBinding,args:["class.btn-sm"]},{type:n.HostBinding,args:["class.ng-toggle-sm"]}],indeterminate:[{type:n.HostBinding,args:["class.ng-toggle-indeterminate"]}],toggledOn:[{type:n.HostBinding,args:["class.ng-toggled-on"]}],toggledOff:[{type:n.HostBinding,args:["class.ng-toggled-off"]}],ariaCheckedValue:[{type:n.HostBinding,args:["attr.aria-checked"]}],animate:[{type:n.HostBinding,args:["class.ng-toggle-animate"]}],handleResize:[{type:n.HostListener,args:["window:resize"]}],handleClick:[{type:n.HostListener,args:["click"]}],onTouchStart:[{type:n.HostListener,args:["touchstart",["$event"]]}],onMouseDown:[{type:n.HostListener,args:["mousedown",["$event"]]}],onTouchMove:[{type:n.HostListener,args:["touchmove",["$event"]]}],onMouseMove:[{type:n.HostListener,args:["mousemove",["$event"]]}],onTouchEnd:[{type:n.HostListener,args:["touchend",["$event"]]}],onMouseUp:[{type:n.HostListener,args:["mouseup",["$event"]]}],onMouseLeave:[{type:n.HostListener,args:["mouseleave",["$event"]]}],onKeyDown:[{type:n.HostListener,args:["keydown",["$event"]]}]};var r=function(){function t(t){var e=this;this._host=t,this._subscription=this._host.valueChange.subscribe((function(t){return e.onChange(t)}))}return t.prototype.ngOnDestroy=function(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)},t.prototype.onChange=function(t){this._onChange&&this._onChange(this._host.value)},t.prototype.onTouched=function(){this._onTouched&&this._onTouched()},t.prototype.registerOnChange=function(t){this._onChange=t},t.prototype.registerOnTouched=function(t){this._onTouched=t},t.prototype.setDisabledState=function(t){this._host.disabled=t},t.prototype.writeValue=function(t){"boolean"!=typeof t&&null!==t||(this._host.value=t)},t}();r.decorators=[{type:n.Directive,args:[{selector:"ng-toggle",host:{"(change)":"onChange($event)","(touch)":"onTouched()"},providers:[{provide:i.NG_VALUE_ACCESSOR,useExisting:n.forwardRef((function(){return r})),multi:!0}]}]}],r.ctorParameters=function(){return[{type:a}]};var s=[a,r,o],l=function(){};l.decorators=[{type:n.NgModule,args:[{imports:[e.CommonModule],exports:s,declarations:s}]}],t.NgToggle=a,t.NgToggleAccessor=r,t.NgToggleLabel=o,t.NgToggleModule=l,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-toggle.umd.min.js.map