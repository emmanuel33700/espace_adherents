{"version":3,"file":"stepper.component.js","sourceRoot":"","sources":["../../../../../../.ng_build/theme/components/stepper/stepper.component.ts"],"names":[],"mappings":"AAAA;;;;GAIG;;AAEH,OAAO,EACL,SAAS,EACT,eAAe,EACf,WAAW,EACX,KAAK,EACL,SAAS,GAEV,MAAM,eAAe,CAAC;AACvB,OAAO,EAAE,qBAAqB,EAAkB,MAAM,YAAY,CAAC;AACnE,OAAO,EAAE,UAAU,EAAE,MAAM,kBAAkB,CAAC;AAC9C,OAAO,EAAE,eAAe,EAAE,MAAM,kBAAkB,CAAC;AAInD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAsFG;AAOH;IAAA;QAoBY,mBAAc,GAAW,CAAC,CAAC;QAa3B,2BAAsB,GAAY,KAAK,CAAC;QAiBlD;;WAEG;QACM,gBAAW,GAAyB,YAAY,CAAC;QAahD,YAAO,GAAG,IAAI,CAAC;IA+E3B,CAAC;2BAjJY,kBAAkB;IAM7B,sBAAI,6CAAa;QAJjB;;WAEG;aAEH;YACE,OAAO,IAAI,CAAC,cAAc,CAAC;QAC7B,CAAC;aACD,UAAkB,KAAa;YAC7B,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;gBACf,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;gBAC5B,OAAO;aACR;YAED,IAAI,CAAC,yBAAyB,EAAE,CAAC;YACjC,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,EAAE;gBAC7B,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;aAC7B;QACH,CAAC;;;OAXA;IAmBD,sBAAI,qDAAqB;aAGzB;YACE,OAAO,IAAI,CAAC,sBAAsB,CAAC;QACrC,CAAC;QAVD;;;WAGG;aAEH,UAA0B,KAAc;YACtC,IAAI,CAAC,sBAAsB,GAAG,qBAAqB,CAAC,KAAK,CAAC,CAAC;QAC7D,CAAC;;;OAAA;IAWD,sBAAI,wCAAQ;QAJZ;;WAEG;aAEH;YACE,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QAC3E,CAAC;aACD,UAAa,IAAqB;YAChC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;gBACf,OAAO;aACR;YACD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC1D,CAAC;;;OANA;IAkBD,sBAAI,sCAAM;aAGV;YACE,OAAO,IAAI,CAAC,OAAO,CAAC;QACtB,CAAC;QAVD;;;WAGG;aAEH,UAAW,KAAc;YACvB,IAAI,CAAC,OAAO,GAAG,qBAAqB,CAAC,KAAK,CAAC,CAAC;QAC9C,CAAC;;;OAAA;IAQD,sBAAI,wCAAQ;aAAZ;YACE,OAAO,IAAI,CAAC,WAAW,KAAK,UAAU,CAAC;QACzC,CAAC;;;OAAA;IAED,sBAAI,0CAAU;aAAd;YACE,OAAO,IAAI,CAAC,WAAW,KAAK,YAAY,CAAC;QAC3C,CAAC;;;OAAA;IAID;;SAEK;IACL,iCAAI,GAAJ;QACE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IAC/E,CAAC;IAED;;SAEK;IACL,qCAAQ,GAAR;QACE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3D,CAAC;IAED;;SAEK;IACL,kCAAK,GAAL;QACE,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,KAAK,EAAE,EAAZ,CAAY,CAAC,CAAC;IAC3C,CAAC;IAED,2CAAc,GAAd,UAAe,IAAqB;QAClC,OAAO,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC;IAChC,CAAC;IAED;;QAEI;IACJ,4CAAe,GAAf,UAAgB,IAAqB;QACnC,IAAI,IAAI,CAAC,eAAe,EAAE;YACxB,OAAO,IAAI,CAAC,KAAyB,CAAC;SACvC;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAES,wCAAW,GAArB,UAAsB,KAAa;QACjC,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC;IAC/C,CAAC;IAES,0CAAa,GAAvB,UAAwB,YAAoB;QAC1C,IAAM,OAAO,GAAG,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC;QACvD,IAAI,OAAO,IAAI,YAAY,GAAG,CAAC,IAAI,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YACpE,OAAO,KAAK,CAAC;SACd;QAED,IAAI,YAAY,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACtD,OAAO,IAAI,CAAC;SACb;QAED,IAAI,eAAe,GAAG,IAAI,CAAC;QAC3B,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC,GAAG,YAAY,EAAE,CAAC,EAAE,EAAE;YACtD,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE;gBACxB,eAAe,GAAG,KAAK,CAAC;gBACxB,MAAM;aACP;SACF;QACD,OAAO,eAAe,CAAC;IACzB,CAAC;IAES,sDAAyB,GAAnC;QACE,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC;SACjC;IACH,CAAC;;IA1ID;QADC,KAAK,EAAE;;;2DAGP;IAmBD;QADC,KAAK,EAAE;;;mEAGP;IAWD;QADC,KAAK,EAAE;kCAIW,eAAe;yCAAf,eAAe;sDADjC;IAWQ;QAAR,KAAK,EAAE;;2DAAkD;IAO1D;QADC,KAAK,EAAE;;;oDAGP;IAQD;QADC,WAAW,CAAC,gBAAgB,CAAC;;;sDAG7B;IAED;QADC,WAAW,CAAC,kBAAkB,CAAC;;;wDAG/B;IAEiC;QAAjC,eAAe,CAAC,eAAe,CAAC;kCAAQ,SAAS;qDAAkB;IA9EzD,kBAAkB;QAN9B,SAAS,CAAC;YACT,QAAQ,EAAE,YAAY;YAEtB,+zCAAuC;YACvC,SAAS,EAAE,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,oBAAkB,EAAE,CAAC;;SACtE,CAAC;OACW,kBAAkB,CAiJ9B;IAAD,yBAAC;CAAA,AAjJD,IAiJC;SAjJY,kBAAkB","sourcesContent":["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport {\n  Component,\n  ContentChildren,\n  HostBinding,\n  Input,\n  QueryList,\n  TemplateRef,\n} from '@angular/core';\nimport { convertToBoolProperty, NbBooleanInput } from '../helpers';\nimport { NB_STEPPER } from './stepper-tokens';\nimport { NbStepComponent } from './step.component';\n\nexport type NbStepperOrientation = 'vertical' | 'horizontal';\n\n/**\n * Stepper component\n *\n * @stacked-example(Showcase, stepper/stepper-showcase.component)\n *\n * ### Installation\n *\n * Import `NbStepperModule` to your feature module.\n * ```ts\n * @NgModule({\n *   imports: [\n *     // ...\n *     NbStepperModule,\n *   ],\n * })\n * export class PageModule { }\n * ```\n * ### Usage\n *\n * If step label is string you can pass it as `label` attribute. Otherwise ng-template should be used:\n * ```html\n * // ...\n * <nb-stepper orientation=\"horizontal\">\n *   <nb-step label=\"step number one\">\n *       // ... step content here\n *   </nb-step>\n *   <nb-step label=\"stepLabel\">\n *       <ng-template #stepLabel>\n *           <div>\n *               step number two\n *           </div>\n *       </ng-template>\n *       // ... step content here\n *   </nb-step>\n * </nb-stepper>\n * ```\n *\n * When linear mode enabled user can't move forward unless current step is complete.\n * @stacked-example(Linear, stepper/stepper-linear.component)\n *\n * Specify `[stepControl]=\"form\"` and stepper allow go to the next step only if form is valid.\n * You can disable it via `linear` mode setting.\n * ```html\n * // ...\n * <nb-stepper  orientation=\"horizontal\">\n *   <nb-step label=\"step number one\" [stepControl]=\"form\">\n *     <form [formGroup]=\"form\">\n *       // ...\n *     </form>\n *   </nb-step>\n *    // ...\n * </nb-stepper>\n * ```\n *\n * @stacked-example(Validation, stepper/stepper-validation.component)\n *\n * Stepper component has two layout options - `vertical` & `horizontal`\n * @stacked-example(Vertical, stepper/stepper-vertical.component)\n *\n * `disableStepNavigation` disables navigation by clicking on steps, so user can navigate only using\n * 'nbStepperPrevious' and 'nbStepperNext' buttons.\n * @stacked-example(Disabled steps navigation, stepper/stepper-disabled-step-nav.component)\n *\n * @styles\n *\n * stepper-step-text-color:\n * stepper-step-text-font-family:\n * stepper-step-text-font-size:\n * stepper-step-text-font-weight:\n * stepper-step-text-line-height:\n * stepper-step-active-text-color:\n * stepper-step-completed-text-color:\n * stepper-step-index-border-color:\n * stepper-step-index-border-style:\n * stepper-step-index-border-width:\n * stepper-step-index-border-radius:\n * stepper-step-index-width:\n * stepper-step-index-active-border-color:\n * stepper-step-index-completed-background-color:\n * stepper-step-index-completed-border-color:\n * stepper-step-index-completed-text-color:\n * stepper-connector-background-color:\n * stepper-connector-completed-background-color:\n * stepper-horizontal-connector-margin:\n * stepper-vertical-connector-margin:\n * stepper-step-content-padding:\n */\n@Component({\n  selector: 'nb-stepper',\n  styleUrls: ['./stepper.component.css'],\n  templateUrl: './stepper.component.html',\n  providers: [{ provide: NB_STEPPER, useExisting: NbStepperComponent }],\n})\nexport class NbStepperComponent {\n\n  /**\n   * Selected step index\n   */\n  @Input()\n  get selectedIndex() {\n    return this._selectedIndex;\n  }\n  set selectedIndex(index: number) {\n    if (!this.steps) {\n      this._selectedIndex = index;\n      return;\n    }\n\n    this.markCurrentStepInteracted();\n    if (this.canBeSelected(index)) {\n      this._selectedIndex = index;\n    }\n  }\n  protected _selectedIndex: number = 0;\n\n  /**\n   * Disables navigation by clicking on steps. False by default\n   * @param {boolean} value\n   */\n  @Input()\n  set disableStepNavigation(value: boolean) {\n    this._disableStepNavigation = convertToBoolProperty(value);\n  }\n  get disableStepNavigation(): boolean {\n    return this._disableStepNavigation;\n  }\n  protected _disableStepNavigation: boolean = false;\n  static ngAcceptInputType_disableStepNavigation: NbBooleanInput;\n\n  /**\n   * Selected step component\n   */\n  @Input()\n  get selected(): NbStepComponent {\n    return this.steps ? this.steps.toArray()[this.selectedIndex] : undefined;\n  }\n  set selected(step: NbStepComponent) {\n    if (!this.steps) {\n      return;\n    }\n    this.selectedIndex = this.steps.toArray().indexOf(step);\n  }\n\n  /**\n   * Stepper orientation - `horizontal`|`vertical`\n   */\n  @Input() orientation: NbStepperOrientation = 'horizontal';\n\n  /**\n   * Allow moving forward only if the current step is complete\n   * @default true\n   */\n  @Input()\n  set linear(value: boolean) {\n    this._linear = convertToBoolProperty(value);\n  }\n  get linear(): boolean {\n    return this._linear;\n  }\n  protected _linear = true;\n  static ngAcceptInputType_linear: NbBooleanInput;\n\n  @HostBinding('class.vertical')\n  get vertical() {\n    return this.orientation === 'vertical';\n  }\n  @HostBinding('class.horizontal')\n  get horizontal() {\n    return this.orientation === 'horizontal';\n  }\n\n  @ContentChildren(NbStepComponent) steps: QueryList<NbStepComponent>;\n\n  /**\n   * Navigate to next step\n   * */\n  next() {\n    this.selectedIndex = Math.min(this.selectedIndex + 1, this.steps.length - 1);\n  }\n\n  /**\n   * Navigate to previous step\n   * */\n  previous() {\n    this.selectedIndex = Math.max(this.selectedIndex - 1, 0);\n  }\n\n  /**\n   * Reset stepper and stepControls to initial state\n   * */\n  reset() {\n    this._selectedIndex = 0;\n    this.steps.forEach(step => step.reset());\n  }\n\n  isStepSelected(step: NbStepComponent) {\n    return this.selected === step;\n  }\n\n  /*\n   * @docs-private\n   **/\n  getStepTemplate(step: NbStepComponent): TemplateRef<any> | null {\n    if (step.isLabelTemplate) {\n      return step.label as TemplateRef<any>;\n    }\n    return null;\n  }\n\n  protected isStepValid(index: number): boolean {\n    return this.steps.toArray()[index].completed;\n  }\n\n  protected canBeSelected(indexToCheck: number): boolean {\n    const noSteps = !this.steps || this.steps.length === 0;\n    if (noSteps || indexToCheck < 0 || indexToCheck >= this.steps.length) {\n      return false;\n    }\n\n    if (indexToCheck <= this.selectedIndex || !this.linear) {\n      return true;\n    }\n\n    let isAllStepsValid = true;\n    for (let i = this.selectedIndex; i < indexToCheck; i++) {\n      if (!this.isStepValid(i)) {\n        isAllStepsValid = false;\n        break;\n      }\n    }\n    return isAllStepsValid;\n  }\n\n  protected markCurrentStepInteracted() {\n    if (this.selected) {\n      this.selected.interacted = true;\n    }\n  }\n}\n"]}