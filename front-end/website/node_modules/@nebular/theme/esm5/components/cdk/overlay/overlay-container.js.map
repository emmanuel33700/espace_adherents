{"version":3,"file":"overlay-container.js","sourceRoot":"","sources":["../../../../../../../.ng_build/theme/components/cdk/overlay/overlay-container.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  ChangeDetectorRef,\n  Component,\n  ComponentFactoryResolver,\n  ComponentRef,\n  EmbeddedViewRef,\n  HostBinding,\n  Injector,\n  Input,\n  ViewChild,\n  ViewContainerRef,\n} from '@angular/core';\n\nimport { NbPosition } from './overlay-position';\nimport { NbComponentPortal, NbPortalInjector, NbPortalOutletDirective, NbTemplatePortal } from './mapping';\n\nexport interface NbRenderableContainer {\n\n  /**\n   * A renderContent method renders content with provided context.\n   * Naturally, this job has to be done by ngOnChanges lifecycle hook, but\n   * ngOnChanges hook will be triggered only if we update content or context properties\n   * through template property binding syntax. But in our case we're updating these properties programmatically.\n   * */\n  renderContent();\n}\n\n@Component({\n  template: '',\n})\n// @breaking-change @5.0.0 Rename to NbPositionedContainerComponent and enable ts lint\n// tslint:disable-next-line\nexport class NbPositionedContainer {\n  @Input() position: NbPosition;\n\n  @HostBinding('class.nb-overlay-top')\n  get top(): boolean {\n    return this.position === NbPosition.TOP;\n  }\n\n  @HostBinding('class.nb-overlay-top-start')\n  get topStart(): boolean {\n    return this.position === NbPosition.TOP_START;\n  }\n\n  @HostBinding('class.nb-overlay-top-end')\n  get topEnd(): boolean {\n    return this.position === NbPosition.TOP_END;\n  }\n\n  @HostBinding('class.nb-overlay-right')\n  get right(): boolean {\n    return this.position === NbPosition.RIGHT || this.position === NbPosition.END;\n  }\n\n  @HostBinding('class.nb-overlay-end-top')\n  get endTop(): boolean {\n    return this.position === NbPosition.END_TOP;\n  }\n\n  @HostBinding('class.nb-overlay-end-bottom')\n  get endBottom(): boolean {\n    return this.position === NbPosition.END_BOTTOM;\n  }\n\n  @HostBinding('class.nb-overlay-bottom')\n  get bottom(): boolean {\n    return this.position === NbPosition.BOTTOM;\n  }\n\n  @HostBinding('class.nb-overlay-bottom-start')\n  get bottomStart(): boolean {\n    return this.position === NbPosition.BOTTOM_START;\n  }\n\n  @HostBinding('class.nb-overlay-bottom-end')\n  get bottomEnd(): boolean {\n    return this.position === NbPosition.BOTTOM_END;\n  }\n\n  @HostBinding('class.nb-overlay-left')\n  get left(): boolean {\n    return this.position === NbPosition.LEFT || this.position === NbPosition.START;\n  }\n\n  @HostBinding('class.nb-overlay-start-top')\n  get startTop(): boolean {\n    return this.position === NbPosition.START_TOP;\n  }\n\n  @HostBinding('class.nb-overlay-start-bottom')\n  get startBottom(): boolean {\n    return this.position === NbPosition.START_BOTTOM;\n  }\n}\n\n\n@Component({\n  selector: 'nb-overlay-container',\n  template: `\n    <div *ngIf=\"isStringContent\" class=\"primitive-overlay\">{{ content }}</div>\n    <ng-template nbPortalOutlet></ng-template>\n  `,\n})\nexport class NbOverlayContainerComponent {\n\n  // TODO static must be false as of Angular 9.0.0, issues/1514\n  @ViewChild(NbPortalOutletDirective, { static: true }) portalOutlet: NbPortalOutletDirective;\n\n  isAttached: boolean = false;\n\n  content: string;\n\n  constructor(protected vcr: ViewContainerRef,\n              protected injector: Injector, private changeDetectorRef: ChangeDetectorRef) {\n  }\n\n  get isStringContent(): boolean {\n    return !!this.content;\n  }\n\n  attachComponentPortal<T>(portal: NbComponentPortal<T>, context?: Object): ComponentRef<T> {\n    portal.injector = this.createChildInjector(portal.componentFactoryResolver);\n    const componentRef = this.portalOutlet.attachComponentPortal(portal);\n    if (context) {\n      Object.assign(componentRef.instance, context);\n    }\n    componentRef.changeDetectorRef.markForCheck();\n    componentRef.changeDetectorRef.detectChanges();\n    this.isAttached = true;\n    return componentRef;\n  }\n\n  attachTemplatePortal<C>(portal: NbTemplatePortal<C>): EmbeddedViewRef<C> {\n    const templateRef = this.portalOutlet.attachTemplatePortal(portal);\n    templateRef.detectChanges();\n    this.isAttached = true;\n    return templateRef;\n  }\n\n  attachStringContent(content: string) {\n    this.content = content;\n    this.changeDetectorRef.markForCheck();\n    this.changeDetectorRef.detectChanges();\n    this.isAttached = true;\n  }\n\n  detach() {\n    if (this.portalOutlet.hasAttached()) {\n      this.portalOutlet.detach();\n    }\n    this.attachStringContent(null);\n    this.isAttached = false\n  }\n\n  protected createChildInjector(cfr: ComponentFactoryResolver): NbPortalInjector {\n    return new NbPortalInjector(this.injector, new WeakMap([\n      [ComponentFactoryResolver, cfr],\n    ]));\n  }\n}\n"]}