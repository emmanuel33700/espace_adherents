{"version":3,"file":"calendar-week-number.component.js","sourceRoot":"","sources":["../../../../../../../../.ng_build/theme/components/calendar-kit/components/calendar-week-number/calendar-week-number.component.ts"],"names":[],"mappings":"AAAA;;;;GAIG;;AAEH,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,WAAW,EAAE,uBAAuB,EAA4B,MAAM,eAAe,CAAC;AAEjH,OAAO,EAAE,aAAa,EAAE,MAAM,6BAA6B,CAAC;AAC5D,OAAO,EAAE,cAAc,EAAwB,MAAM,aAAa,CAAC;AAanE;IAqBE,uCAAoB,WAA6B;QAA7B,gBAAW,GAAX,WAAW,CAAkB;IAAG,CAAC;IAJrD,sBAAI,kDAAO;aAAX;YACE,OAAO,IAAI,CAAC,IAAI,KAAK,cAAc,CAAC,KAAK,CAAC;QAC5C,CAAC;;;OAAA;IAID,mDAAW,GAAX,UAAY,OAAsB;QAChC,IAAI,OAAO,CAAC,KAAK,EAAE;YACjB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;SACpC;IACH,CAAC;IAED,gDAAQ,GAAR;QAAA,iBASC;QARC,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,UAAC,IAAS;YAC9B,gEAAgE;YAChE,6BAA6B;YAC7B,IAAM,OAAO,GAAG,eAAK,IAAI,EAAG,OAAO,EAAE,CAAC,IAAI,CAAC,UAAC,GAAM,IAAK,OAAA,CAAC,CAAC,GAAG,EAAL,CAAK,CAAC,CAAC;YAC9D,qDAAqD;YACrD,kEAAkE;YAClE,OAAO,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;IACL,CAAC;IAjCD;QADC,KAAK,EAAE;;gEACK;IAGb;QADC,KAAK,EAAE;;+DACa;IAMZ;QAAR,KAAK,EAAE;;2EAA0B;IAGlC;QADC,WAAW,CAAC,kBAAkB,CAAC;;;gEAG/B;IAnBU,6BAA6B;QAXzC,SAAS,CAAC;YACT,QAAQ,EAAE,0BAA0B;YACpC,QAAQ,EAAE,8MAKT;YAED,eAAe,EAAE,uBAAuB,CAAC,MAAM;;SAChD,CAAC;yCAsBiC,aAAa;OArBnC,6BAA6B,CAuCzC;IAAD,oCAAC;CAAA,AAvCD,IAuCC;SAvCY,6BAA6B","sourcesContent":["/*\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport { Component, Input, HostBinding, ChangeDetectionStrategy, OnChanges, SimpleChanges } from '@angular/core';\n\nimport { NbDateService } from '../../services/date.service';\nimport { NbCalendarSize, NbCalendarSizeValues } from '../../model';\n\n@Component({\n  selector: 'nb-calendar-week-numbers',\n  template: `\n    <div class=\"sign-container\">\n      <div class=\"sign\">{{ weekNumberSymbol }}</div>\n    </div>\n    <div class=\"week-number\" *ngFor=\"let weekNumber of weekNumbers\">{{ weekNumber }}</div>\n  `,\n  styleUrls: ['./calendar-week-number.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class NbCalendarWeekNumberComponent<D> implements OnChanges {\n\n  weekNumbers: number[];\n\n  @Input()\n  weeks: D[][];\n\n  @Input()\n  size: NbCalendarSize;\n  static ngAcceptInputType_size: NbCalendarSizeValues;\n\n  /**\n   * Sets symbol used as a header for week numbers column\n   * */\n  @Input() weekNumberSymbol: string;\n\n  @HostBinding('class.size-large')\n  get isLarge() {\n    return this.size === NbCalendarSize.LARGE;\n  }\n\n  constructor(private dateService: NbDateService<D>) {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.weeks) {\n      this.weekNumbers = this.getWeeks();\n    }\n  }\n\n  getWeeks(): number[] {\n    return this.weeks.map((week: D[]) => {\n      // Find last defined day as week could contain null days in case\n      // boundingMonth set to false\n      const lastDay = [ ...week ].reverse().find((day: D) => !!day);\n      // Use last day of the week to determine week number.\n      // This way weeks which span between sibling years is marked first\n      return this.dateService.getWeekNumber(lastDay);\n    });\n  }\n}\n"]}