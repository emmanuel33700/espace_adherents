{"version":3,"file":"calendar-year-model.service.js","sourceRoot":"","sources":["../../../../../../../.ng_build/theme/components/calendar-kit/services/calendar-year-model.service.ts"],"names":[],"mappings":"AAAA;;;;GAIG;;AAEH,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAE3C,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,YAAY,CAAC;AAC1C,OAAO,EAAE,aAAa,EAAE,MAAM,gBAAgB,CAAC;AAG/C;IAKE,oCAAsB,WAA6B;QAA7B,gBAAW,GAAX,WAAW,CAAkB;QAHzC,gBAAW,GAAG,EAAE,CAAC;QACjB,eAAU,GAAG,CAAC,CAAC;IAGzB,CAAC;IAED,mDAAc,GAAd;QACE,OAAO,IAAI,CAAC,WAAW,CAAC;IAC1B,CAAC;IAED,kDAAa,GAAb;QACE,OAAO,IAAI,CAAC,UAAU,CAAC;IACzB,CAAC;IAED,iDAAY,GAAZ,UAAa,QAAW;QAAxB,iBAWC;QAVC,IAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,aAAqB,CAAC;QAC1B,IAAI,IAAI,IAAI,CAAC,EAAE;YACb,aAAa,GAAG,IAAI,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;SAClD;aAAM;YACL,aAAa,GAAG,IAAI,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC;SACrE;QACD,IAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,UAAA,CAAC,IAAI,OAAA,KAAI,CAAC,YAAY,CAAC,aAAa,GAAG,CAAC,EAAE,QAAQ,CAAC,EAA9C,CAA8C,CAAC,CAAC;QAE/F,OAAO,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;IACvC,CAAC;IAES,iDAAY,GAAtB,UAAuB,IAAY,EAAE,IAAO;QAC1C,OAAO,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;IAC5G,CAAC;IA/BU,0BAA0B;QADtC,UAAU,EAAE;yCAMwB,aAAa;OALrC,0BAA0B,CAgCtC;IAAD,iCAAC;CAAA,AAhCD,IAgCC;SAhCY,0BAA0B","sourcesContent":["/*\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport { Injectable } from '@angular/core';\n\nimport { range, batch } from '../helpers';\nimport { NbDateService } from './date.service';\n\n@Injectable()\nexport class NbCalendarYearModelService<D> {\n\n  protected yearsInView = 12;\n  protected yearsInRow = 4;\n\n  constructor(protected dateService: NbDateService<D>) {\n  }\n\n  getYearsInView(): number {\n    return this.yearsInView;\n  }\n\n  getYearsInRow(): number {\n    return this.yearsInRow;\n  }\n\n  getViewYears(viewYear: D): D[][] {\n    const year = this.dateService.getYear(viewYear);\n    let viewStartYear: number;\n    if (year >= 0) {\n      viewStartYear = year - (year % this.yearsInView);\n    } else {\n      viewStartYear = year - (year % this.yearsInView + this.yearsInView);\n    }\n    const years = range(this.yearsInView).map(i => this.copyWithYear(viewStartYear + i, viewYear));\n\n    return batch(years, this.yearsInRow);\n  }\n\n  protected copyWithYear(year: number, date: D): D {\n    return this.dateService.createDate(year, this.dateService.getMonth(date), this.dateService.getDate(date));\n  }\n}\n"]}